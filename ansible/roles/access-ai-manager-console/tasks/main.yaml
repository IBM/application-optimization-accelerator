---
- name: Wait until the Route is created
  kubernetes.core.k8s_info:
    kind: Route
    wait: yes
    name: cpd
    namespace: "{{ NAMESPACE }}"
    wait_sleep: 10
    wait_timeout: 360

- name: Find the AI Manager URL
  shell: oc get route -n {{ NAMESPACE }} cpd -o jsonpath='{.spec.host}'

- name: Find the AI Manager console username
  shell: oc -n ibm-common-services get secret platform-auth-idp-credentials -o jsonpath='{.data.admin_username}' | base64 -d && echo

- name: Find the AI Manager console password
  shell: oc -n ibm-common-services get secret platform-auth-idp-credentials -o jsonpath='{.data.admin_password}' | base64 -d