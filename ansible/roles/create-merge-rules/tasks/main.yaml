- name: Get password
  shell: oc get secret aiops-topology-asm-credentials -n "{{ NAMESPACE }}" -o yaml | grep password | cut -d ':' -f2 | base64 -di | tr -cd '[:print:]'
  register: PASSWORD_OUTPUT
  when: ansible_distribution != "MacOSX"

- name: Get password
  shell: oc get secret aiops-topology-asm-credentials -n "{{ NAMESPACE }}" -o yaml | grep password | cut -d ':' -f2 | base64 -d | tr -cd '[:print:]'
  register: PASSWORD_OUTPUT
  when: ansible_distribution == "MacOSX"
  
- name: Set password
  set_fact:
    PASSWORD: "{{ PASSWORD_OUTPUT.stdout }}"

- name: Get username
  shell: oc get secret aiops-topology-asm-credentials -n "{{ NAMESPACE }}" -o yaml | grep username | cut -d ':' -f2 | base64 -di | tr -cd '[:print:]'
  register: USERNAME_OUTPUT
  when: ansible_distribution != "MacOSX"

- name: Get username
  shell: oc get secret aiops-topology-asm-credentials -n "{{ NAMESPACE }}" -o yaml | grep username | cut -d ':' -f2 | base64 -d | tr -cd '[:print:]'
  register: USERNAME_OUTPUT
  when: ansible_distribution == "MacOSX"

- name: Set username
  set_fact:
    USERNAME: "{{ USERNAME_OUTPUT.stdout }}"

- name: Get proxy domain
  shell: oc get ingress.config cluster -o jsonpath='{.spec.domain}'
  register: PROXY_DOMAIN_OUTPUT

- name: Set proxy domain
  set_fact:
    PROXY_DOMAIN: "{{ PROXY_DOMAIN_OUTPUT.stdout }}"

- name: Create topology-merge route
  kubernetes.core.k8s:
    template: ./templates/route.j2
    state: present

- name: Merge Create
  uri:
    url: "https://topology-merge-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/merge/rules?ruleType=matchTokensRule"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','merge-create.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
    validate_certs: false
    status_code: 201

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-1.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-2.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-3.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-4.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-5.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-6.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-7.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-8.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-9.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-10.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-11.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-12.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-13.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-14.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-15.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-16.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-17.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Edge
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/resources"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','edge-18.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202


- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-1.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-2.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-3.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-4.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-5.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202


- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-6.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-7.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-8.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-9.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-10.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-11.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-12.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202


- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-13.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-14.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-15.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-16.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-17.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-18.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202



- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-19.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202



- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-20.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-21.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-22.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202

- name: Create Link
  uri:
    url: "https://topology-rest-{{ NAMESPACE }}.{{ PROXY_DOMAIN }}/1.0/rest-observer/rest/references"
    user: "{{ USERNAME }}"
    password: "{{ PASSWORD }}"
    method: POST
    body: "{{ lookup('file','link-23.json') }}"
    body_format: json
    headers:
      Content-Type: "application/json; charset=utf-8"
      X-TenantID: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
      JobId: listenJob 
    validate_certs: false
    status_code: 202